<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game of Life Arcade - Gallery</title>
  <style>
    /* ===== RESET & BASE ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Google Sans', 'Product Sans', Arial, sans-serif;
      background-color: #000000;
      color: #FFFFFF;
      overflow: hidden;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* ===== HEADER ===== */
    header {
      background-color: #1a1a1a;
      padding: 2rem;
      text-align: center;
      border-bottom: 3px solid #1a73e8;
    }

    h1 {
      font-size: 3rem;
      font-weight: 300;
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
      color: #FFFFFF;
    }

    .subtitle {
      font-size: 1.2rem;
      color: #5f6368;
      font-weight: 300;
    }

    /* ===== GALLERY GRID ===== */
    .gallery {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      padding: 3rem;
      overflow-y: auto;
      align-content: start;
    }

    /* ===== GAME CARD ===== */
    .game-card {
      background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
      border-radius: 12px;
      border: 2px solid #333;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      aspect-ratio: 4/3;
      display: flex;
      flex-direction: column;
    }

    .game-card:hover,
    .game-card.selected {
      transform: translateY(-8px);
      border-color: #1a73e8;
      box-shadow: 0 12px 40px rgba(26, 115, 232, 0.3);
    }

    .game-card.selected {
      border-width: 3px;
    }

    /* ===== GAME THUMBNAIL ===== */
    .game-thumbnail {
      flex: 1;
      background: linear-gradient(135deg, #0d47a1 0%, #1a73e8 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .game-thumbnail::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        repeating-linear-gradient(
          0deg,
          rgba(255, 255, 255, 0.03) 0px,
          rgba(255, 255, 255, 0.03) 1px,
          transparent 1px,
          transparent 2px
        ),
        repeating-linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.03) 0px,
          rgba(255, 255, 255, 0.03) 1px,
          transparent 1px,
          transparent 2px
        );
      animation: cellAnimation 2s linear infinite;
    }

    @keyframes cellAnimation {
      0% { transform: translate(0, 0); }
      100% { transform: translate(2px, 2px); }
    }

    .game-icon {
      font-size: 4rem;
      z-index: 1;
      opacity: 0.9;
    }

    /* Color variants for thumbnails */
    .game-card[data-game="space-invaders"] .game-thumbnail {
      background: linear-gradient(135deg, #c62828 0%, #f44336 100%);
    }

    .game-card[data-game="dino-runner"] .game-thumbnail {
      background: linear-gradient(135deg, #2e7d32 0%, #4caf50 100%);
    }

    .game-card[data-game="breakout"] .game-thumbnail {
      background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
    }

    .game-card[data-game="asteroids"] .game-thumbnail {
      background: linear-gradient(135deg, #6a1b9a 0%, #9c27b0 100%);
    }

    .game-card[data-game="flappy-bird"] .game-thumbnail {
      background: linear-gradient(135deg, #00838f 0%, #00acc1 100%);
    }

    .game-card[data-game="snake"] .game-thumbnail {
      background: linear-gradient(135deg, #558b2f 0%, #7cb342 100%);
    }

    .game-card[data-game="pong"] .game-thumbnail {
      background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%);
    }

    /* ===== GAME INFO ===== */
    .game-info {
      padding: 1.5rem;
      background-color: #1a1a1a;
    }

    .game-title {
      font-size: 1.5rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: #FFFFFF;
    }

    .game-description {
      font-size: 0.95rem;
      color: #9aa0a6;
      line-height: 1.4;
    }

    .game-controls {
      margin-top: 0.75rem;
      font-size: 0.85rem;
      color: #5f6368;
      font-family: 'Courier New', monospace;
    }

    /* ===== FOOTER INSTRUCTIONS ===== */
    footer {
      background-color: #1a1a1a;
      padding: 1.5rem;
      text-align: center;
      border-top: 1px solid #333;
    }

    .instructions {
      display: flex;
      justify-content: center;
      gap: 3rem;
      font-size: 1rem;
      color: #9aa0a6;
    }

    .instruction-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .key {
      background-color: #2a2a2a;
      border: 2px solid #444;
      border-radius: 4px;
      padding: 0.3rem 0.6rem;
      font-family: 'Courier New', monospace;
      font-weight: bold;
      color: #1a73e8;
      min-width: 2rem;
      text-align: center;
    }

    /* ===== LOADING INDICATOR ===== */
    .loading {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(0, 0, 0, 0.9);
      color: #FFFFFF;
      padding: 2rem 3rem;
      border-radius: 12px;
      border: 2px solid #1a73e8;
      font-size: 1.5rem;
      z-index: 1000;
      display: none;
    }

    .loading.active {
      display: block;
    }

    /* ===== SELECTION INDICATOR ===== */
    .selection-number {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background-color: #1a73e8;
      color: #FFFFFF;
      width: 3rem;
      height: 3rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
      z-index: 10;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .game-card.selected .selection-number {
      opacity: 1;
    }

    /* ===== RESPONSIVE (for testing on smaller screens) ===== */
    @media (max-width: 1400px) {
      .gallery {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 900px) {
      .gallery {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <h1>GAME OF LIFE ARCADE</h1>
    <p class="subtitle">Conway's Cellular Automaton Games</p>
  </header>

  <!-- Gallery Grid -->
  <div class="gallery" id="gallery">
    <!-- Game cards will be injected by JavaScript -->
  </div>

  <!-- Footer Instructions -->
  <footer>
    <div class="instructions">
      <div class="instruction-item">
        <span class="key">1-7</span>
        <span>Select Game</span>
      </div>
      <div class="instruction-item">
        <span class="key">‚Üë</span>
        <span class="key">‚Üì</span>
        <span class="key">‚Üê</span>
        <span class="key">‚Üí</span>
        <span>Navigate</span>
      </div>
      <div class="instruction-item">
        <span class="key">ENTER</span>
        <span>Launch Game</span>
      </div>
      <div class="instruction-item">
        <span class="key">ESC</span>
        <span>Return to Gallery</span>
      </div>
    </div>
  </footer>

  <!-- Loading Indicator -->
  <div class="loading" id="loading">
    Loading game...
  </div>

  <script type="module">
    // ===== GAME DATA =====
    const games = [
      {
        id: 'space-invaders',
        title: 'Space Invaders',
        description: 'Classic arcade shooter with cellular automaton enemies descending from above.',
        controls: 'ARROWS: Move | SPACE: Shoot',
        icon: 'üëæ',
        path: '/games/space-invaders.html'
      },
      {
        id: 'dino-runner',
        title: 'Dino Runner',
        description: 'Endless runner where you jump over procedurally generated obstacles.',
        controls: 'SPACE: Jump',
        icon: 'ü¶ñ',
        path: '/games/dino-runner.html'
      },
      {
        id: 'breakout',
        title: 'Breakout',
        description: 'Break bricks with a bouncing ball. Each brick is a living cellular organism.',
        controls: 'ARROWS: Move Paddle',
        icon: 'üß±',
        path: '/games/breakout.html'
      },
      {
        id: 'asteroids',
        title: 'Asteroids',
        description: 'Navigate space and destroy asteroids made of evolving cells.',
        controls: 'ARROWS: Rotate/Move | SPACE: Shoot',
        icon: '‚òÑÔ∏è',
        path: '/games/asteroids.html'
      },
      {
        id: 'flappy-bird',
        title: 'Flappy Bird',
        description: 'Fly through pipes in this cellular automaton twist on the classic.',
        controls: 'SPACE: Flap',
        icon: 'üê¶',
        path: '/games/flappy-bird.html'
      },
      {
        id: 'snake',
        title: 'Snake',
        description: 'Classic snake with cellular automaton aesthetics. Grow by eating pulsing Pulsar food.',
        controls: 'ARROWS or WASD: Move | SPACE: Restart',
        icon: 'üêç',
        path: '/games/snake.html'
      },
      {
        id: 'pong',
        title: 'Pong',
        description: 'Classic Pong with cellular automaton paddles and ball. First to 5 points wins!',
        controls: 'W/S or ‚Üë‚Üì: Move | SPACE: Restart',
        icon: 'üèì',
        path: '/games/pong.html'
      }
    ]

    // ===== STATE =====
    let selectedIndex = 0

    // ===== DOM REFERENCES =====
    const galleryEl = document.getElementById('gallery')
    const loadingEl = document.getElementById('loading')

    // ===== INITIALIZE GALLERY =====
    function initGallery() {
      games.forEach((game, index) => {
        const card = createGameCard(game, index)
        galleryEl.appendChild(card)
      })
      updateSelection()
    }

    // ===== CREATE GAME CARD =====
    function createGameCard(game, index) {
      const card = document.createElement('div')
      card.className = 'game-card'
      card.dataset.game = game.id
      card.dataset.index = index

      card.innerHTML = `
        <div class="game-thumbnail">
          <div class="game-icon">${game.icon}</div>
        </div>
        <div class="game-info">
          <h2 class="game-title">${game.title}</h2>
          <p class="game-description">${game.description}</p>
          <p class="game-controls">${game.controls}</p>
        </div>
        <div class="selection-number">${index + 1}</div>
      `

      // Click handler
      card.addEventListener('click', () => {
        selectedIndex = index
        updateSelection()
      })

      // Double click to launch
      card.addEventListener('dblclick', () => {
        launchGame(game)
      })

      return card
    }

    // ===== UPDATE SELECTION =====
    function updateSelection() {
      const cards = document.querySelectorAll('.game-card')
      cards.forEach((card, index) => {
        card.classList.toggle('selected', index === selectedIndex)
      })

      // Scroll selected card into view
      const selectedCard = cards[selectedIndex]
      if (selectedCard) {
        selectedCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' })
      }
    }

    // ===== LAUNCH GAME =====
    function launchGame(game) {
      loadingEl.classList.add('active')
      loadingEl.textContent = `Loading ${game.title}...`

      // Simulate loading delay for smooth transition
      setTimeout(() => {
        window.location.href = game.path
      }, 500)
    }

    // ===== KEYBOARD NAVIGATION =====
    document.addEventListener('keydown', (e) => {
      const cards = document.querySelectorAll('.game-card')
      const totalGames = games.length

      switch(e.key) {
        // Number keys 1-7 for direct selection
        case '1':
        case '2':
        case '3':
        case '4':
        case '5':
        case '6':
        case '7':
          const num = parseInt(e.key)
          if (num <= totalGames) {
            selectedIndex = num - 1
            updateSelection()
          }
          break

        // Arrow keys for navigation
        case 'ArrowUp':
          e.preventDefault()
          selectedIndex = Math.max(0, selectedIndex - 3)
          updateSelection()
          break

        case 'ArrowDown':
          e.preventDefault()
          selectedIndex = Math.min(totalGames - 1, selectedIndex + 3)
          updateSelection()
          break

        case 'ArrowLeft':
          e.preventDefault()
          selectedIndex = Math.max(0, selectedIndex - 1)
          updateSelection()
          break

        case 'ArrowRight':
          e.preventDefault()
          selectedIndex = Math.min(totalGames - 1, selectedIndex + 1)
          updateSelection()
          break

        // Enter to launch
        case 'Enter':
          e.preventDefault()
          launchGame(games[selectedIndex])
          break

        // Space to launch (arcade button)
        case ' ':
          e.preventDefault()
          launchGame(games[selectedIndex])
          break
      }
    })

    // ===== ARCADE BUTTON SUPPORT =====
    // Map arcade buttons to game selection
    document.addEventListener('keydown', (e) => {
      // Arcade buttons are typically mapped to Z, X, C
      switch(e.key.toLowerCase()) {
        case 'z':  // Button 1 - Launch game
          e.preventDefault()
          launchGame(games[selectedIndex])
          break
        case 'x':  // Button 2 - Next game
          e.preventDefault()
          selectedIndex = (selectedIndex + 1) % games.length
          updateSelection()
          break
        case 'c':  // Button 3 - Previous game
          e.preventDefault()
          selectedIndex = (selectedIndex - 1 + games.length) % games.length
          updateSelection()
          break
      }
    })

    // ===== INITIALIZE =====
    initGallery()

    // Auto-select first game
    selectedIndex = 0
    updateSelection()
  </script>
</body>
</html>
